# MultiSmell
Code smells are poor implementation and bad design choices that may signify the weakness of software design. The practice of software development often involves the co-occurrence of multiple code smells. However, the single-label detection is unable to identify and mark the presence of multiple code smells together and fails to capture the relationship and impact between code smells. To address these problems, we propose MultiSmell, a multi-label code smell detection approach based on a heterogeneous graph neural network.
Firstly, the text features is extracted on the AST of the source program, while the structural metric features is extracted by iPlasma. Then, the semantic relationships embedded between the text features are obtained by XLNet pre-training model and BiLSTM model, and combine the CNN model for deep feature extraction of the metric features. Secondly, each code sample is labeled with multiple labels by using static analysis tools and detection rules, combining textual and metric features into feature information. Next, the feature and the label information are modeled as different types of nodes on the heterogeneous graph, the two types of nodes are iteratively fused through the message-passing mechanism. Finally, a MLP is employed to accomplish the detection of multi-label code smell.
The experiment results show that MultiSmell improves by an average of 17.47% in accuracy and an average of 10.35% in F1 against existing approaches, demonstrating the effectiveness of our approach in detecting multi-label code smell.
